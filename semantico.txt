semántico

OBJETIVO 1:

El analizador semántico debe ser capaz de detectar si las asignaciones en P están bien tipadas.
a) Una asignación está bien tipada si y solo sí el tipo de la expresión a asignar
coincide con el tipo de la variable que se está asignando.
b) Una expresión es numérica en los siguientes casos:
    b.1) Constante de tipo numérico.
    b.2) Variable de tipo numérico.
    b.3) Resultado de la suma, resta o multiplicación.
    b.4) Llamada a una función con valor numérico de retorno. (? preguntar)
    b.5) En la extracción del valor iésimo en una secuencia numérica.
c) Una expresión es de tipo lógico en los siguientes casos:
    c.1) Constante de tipo lógico.
    c.2) Variable de tipo lógico.
    c.3) Resultado del AND y OR lógicos entre dos expresiones lógicas.
    c.4) Resultado de comprobar la igualdad o desigualdad entre dos expresiones de igual tipo.
    c.5) Resultado de ejercer las comparaciones menor, mayor, menor igual o mayor igual entre dos expresiones numéricas.
    c.6) Resultado del NO lógico de una expresión lógica.
    c.7) Llamada a una función con un valor lógico de retorno.
    c.8) En la extracción del valor iésimo en una secuencia de valores lógicos.
d) Una expresión es de tipo secuencia en los siguientes casos:
    d.1) Lista por extensión [...]. En el caso de almacenar valores enteros será una secuencia entera.
        En el caso de almacenar valores lógicos una secuencia lógica.
        En el caso de estar vacía tomará el tipo requerido en la asignación siempre y cuando la variable por asignar
        tenga como tipo la secuencia numérica o lógica.
    d.2) Variable de tipo secuencia numérica o lógica.
    d.3) Llamada a una función que devuelva un valor secuencia numérica o lógica como retorno.

    -Errores propuestos:
        PROGRAMA
        VARIABLES
            seq:SEQ(NUM);
            i:NUM;
            loEs:LOG;
        SUBPROGRAMAS
            FUNCION esTrue(LOG v) dev (LOG loEs)
             VARIABLES
             INSTRUCCIONES
                loEs = v;
                dev loEs;
             FFUNCION
        INSTRUCCIONES
            seq = 1; // Error 1 por asignación mal tipada. seq es una SEQ(NUM) mientras que 1 es una cte tipo NUM.
            i = T; // Error 1 por asignación mal tipada. i es una variable tipo NUM mientras que T es una cte tipo LOG.
            loEs = esTrue(i); // Error 2 por introducción de parámetro cuyo tipo no coincide con el declarado como entrada en la función.
                             // La asignación sí sería correcta.

DECISIÓN DE DISEÑO SOBRE EL ERROR 1:
Para saber si una asignación está bien tipada necesitamos un almacén que contenga información acerca del tipo de las variables declaradas.
De este modo, cuando se produzca una asignación podremos comprobar si el valor asignado a dicha variable concuerda con el tipo registrado
en el almacén.

Almacén de variables:

    variables   |    tipos
 --------------------------------------
     seq        |    Secuencia numérica
     i          |    Numérico
     loEs       |    Lógico