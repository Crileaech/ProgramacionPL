DEFINICION DE DISEÑO ANALIZADOR SINTÁCTICO

programa: PROGRAMA variables subprogramas instrucciones
variables: VARIABLES (declaracion_variables)*
        ;
declaracion_variables: identificador DOSPUNTOS tipos PyC
                       ;
identificador: var_numericas
             | secuencias
             ;
var_numericas: (VAR COMA)* VAR DOSPUNTOS tipos_elementales PyC
             ;
secuencias: VAR DOSPUNTOS tipos_no_elementales PyC
          ;
tipos: tipos_elementales
     | tipos_no_elementales
     ;
tipos_elementales: NUM
                 | LOG
                 ;
tipos_no_elementales: SEQ(NUM)
                    | SEQ(LOG)
                    ;

subprogramas:SUBPROGRAMAS (declaracion_subprogramas)*
            ;
declaracion_subprogramas: funciones
                       ;
funciones: declaracion_funicones
         ;
declaracion_funicones: (FUNCION|PROCEDIMIENTOS) parametros declaracion_variables instrucciones (FFUNCION|FPROCEDIMIENTO);

parametros: params_entrada
          | params_salida
          ;
params_entrada: param_entrada
               ;
param_entrada: desigualdades PA SEQ VAR PC
               ;
desigualdades: distinto
             | menor
             | mayor
             | menor_igual_que
             | mayor_igual_que
             ;
params_salida: RETURN PA param_salida PC
               ;
param_salida: PA (tipos_elementales VAR COMA)* PC
            ;

instrucciones: INSTRUCCIONES (declaracion_instrucciones)*
              ;
delcaracion_instrucciones: asignacion
                         | condicional
                         | iteracion
                         | reptura_control
                         | declaracion_subproggramas
                         | devolucion_resultados
                         | mostrar_consola
                         | asertos
                         ;
asignacion: asig_simple
          | asig_multiple
          ;
asig_simple: VAR ASIGNACION CA (DIGITOS COMA)* DIGITOS CC PyC
             ;
asig_multiple: declaracion_variables ASIGNACION declaracion_variables operacion_entero DIGITO PyC
             ;
operacion_entero: MULTIPLICACION
                | SUMA
                | RESTA
                ;
condicional: condicion
            ;
condicion: IF (blq_si|blq_sino) ENDIF
        ;
blq_si: PA expresion PC THEN (delcaracion_instrucciones)+
        ;
blq_sino: PA expresion PC THEN (delcaracion_instrucciones)+ ELSE (delcaracion_instrucciones)+
        ;
iteracion: WHILE PA expresion PC DO (expr_avanza)? (delcaracion_instrucciones)+ ENDWHILE
         ;
expr_avanza: LLAVEABIERTA AVANZA DOSPUNTOS expr_funcion LLAVECERRADA
           ;
expr_funcion: VAR PA (VAR|expresion) (COMA VAR|expresion)* PC;
            ;
reptura_control: BREAK PyC
               ;
devolucion_resultados: RETURN expresion PyC
                    ;
mostrar_consola: PRINTLN PA declaracion_variables PC
                ;
asertos: LLAVEABIERTA (expresion | cuantificador ) LLAVECERRADA
       ;
expresion: expr_integer
         | expr_boolean
         | expr_seq
         ;
expr_integer: NUM
            | expr_integer operacion_entero expr_integer
            | identificador CA expr_integer CC // variable que almacena una secuencia de enteros
            | expr_funcion // llamar a esa función devuelva un entero
            | VAR
            ;
expr_boolean: T
            | F
            | expr_integer desigualdades expr_integer
            | expr_boolean (AND|OR) expr_boolean
            | NO expr_boolean
            | expr_integer
            ;
expr_seq: CA CC // []
                | CA (expr_integer|expr_boolean COMA)* (expr_integer|expr_boolean) CC
                | expr_funcion
                | VAR
                ;
cuantificador: cuantificadorUniversal
            | cuantificadorExistencial
            ;
cuantificadoUniversal: FORALL PA VAR DOSPTOS expr_entero COMA expresion PC
                    ;
expr_entero: CA expresion COMA expresion CC
           ;

