========================================================
DEFINICION DE DISEÑO ANALIZADOR SINTÁCTICO

Para reconocer estructuras sintácticas usaremos gramáticas independientes
de contexto (gramática).

Una gramática es un conjunto de regla.

En concreto en este documento podremos encontrar las especificaciones
para nuestro programa P.

P es un lenguaje de programación secuencial con asertos.
La idea es usar asertos para verificar la corrección del programa.
Si al ejecutar un programa, sus asertos son ciertos entonces el programa se considera correcto.
El programa sería incorrecto en otro caso.
El programa P se estructura en 3 secciones:
una dedicada a la declaración de variables(sección VARIABLES),
otra dedicada a  la  declaración  de subprogramas(secciónSUBPROGRAMAS)
y  otra  dedicada al  uso  devariables  y  subprogramas (secciónINSTRUCCIONES).

========================================================

programa: PROGRAMA variables subprogramas instrucciones
variables: VARIABLES (declaracion_variables)*
        ;
declaracion_variables: identificador DOSPTOS  tipos PyC
                       ;
identificador: elementales
             | secuencias
             ;
elementales: (variable COMA)* variable DOSPTOS tipos_elementales PyC
             ;
secuencias: variable DOSPTOS tipos_no_elementales PyC
          ;
tipos: tipos_elementales
     | tipos_no_elementales
     ;
tipos_elementales: NUMERO
                 | BOOL
                 ;
tipos_no_elementales: SEQ(NUM)
                    | SEQ(LOG)
                    ;

subprogramas:SUBPROGRAMAS (declaracion_subprogramas)*
            ;
variable: VAR;
declaracion_subprogramas: funcion
                        | procedimiento
                        ;
funcion: FUNCION variable PA (params)? PC RETURN PA params PC variables instrucciones FFUNCION;
procedimiento: PROCEDIMIENTO variable PA (params)? PC variables instrucciones FPROCEDIMIENTO;

params: tipos variable
      | tipos variable COMA params
      ;

op_integer: POR
          | SUMA
          | RESTA
          ;

comp_integer: MENORIGUAL
            | MAYORIGUAL
            | MENOR
            | MAYOR
            | comp_bool
            ;
op_bool: AND
       | OR
       ;

comp_bool: IGUALL
         | DISTINTO
         ;

expr: expr_integer
    | expr_bool
    | expr_seq
    | expr_func
    | expr_sacar_elem
    ;

expr_integer: expr_integer op_integer expr_integer
            | NUM
            | variable
            ;

expr_bool: T
         | F
         | expr_bool comp_bool expr_bool
         | expr_seq comp_bool expr_seq
         | expr_integer comp_integer expr_integer
         | NO expr_bool
         | expr_bool op_bool expr_bool
         | variable
         ;

expr_seq: CA CC // []
        | CA (expr COMA)* expr CC
        | variable
        ;

expr_sacar_elem: variable CA expr_integer CC;

expr_avanza: LA AVANZA DOSPTOS expr_func LC;

expr_func: variable PA (variable|expr) (COMA variable|expr)* PC PyC;

instrucciones: INSTRUCCIONES (declaracion_instrucciones)*
              ;
delcaracion_instrucciones: asignacion
                         | condicional
                         | iteracion
                         | ruptura
                         | devolucion_resultados
                         | mostrar_consola
                         | asertos
                         | expr_func
                         ;
asignacion: (variable COMA)* variable IGUAL ((variable|expr) COMA)* (variable|expr) PyC;

condicional: condicion
            ;
condicion: IF PA expr_bool PC THEN (declaracion_instrucciones)+ (blq_sino)? ENDIF;
        ;
blq_sino: PA expresion PC THEN (delcaracion_instrucciones)+ ELSE (delcaracion_instrucciones)+
        ;
iteracion: WHILE PA expresion PC DO (expr_avanza)? (delcaracion_instrucciones)+ ENDWHILE
         ;
            ;
ruptura: BREAK PyC
               ;
devolucion_resultados: RETURN expresion PyC
                    ;
mostrar_consola: MOSTRAR PA (expr COMA)* expr PC PyC;
                ;
asertos: LA ( expr_bool | cuantificador ) LC;
       ;
cuantificador: cuantificadorUniversal
            | cuantificadorExistencial
            ;
cuantificadoUniversal: FORALL cuantificacion
                    ;
cuantificadorExistencial: EXISTS cuantificacion
                        ;
cuantificacion: PA variable DOSPTOS CA expr_integer COMA expr_integer CC COMA expr_bool PC;

